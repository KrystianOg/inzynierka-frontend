import{u as _,a as v,q as T,t as q,a7 as C,j as i,C as A,b as e,W as z,o,T as F,x as W,L as j,I as k,F as L,y as B}from"./index-256b35f3.js";import{T as n,B as I}from"./Rounded-f7f85572.js";import{u as Z}from"./index.esm-22fccc69.js";import{A as U}from"./Avatar-67d11fcb.js";import"./browser-ponyfill-dc401b36.js";import"./TextField-0b6183c3.js";import"./Grow-567cf039.js";import"./Button-e91f9ba3.js";const E=()=>{var p,m;const{t:r}=_(),u=v(),l=T(),d=((m=(p=u.state)==null?void 0:p.from)==null?void 0:m.pathname)||"/",{enqueueSnackbar:g}=q(),{register:s,formState:{errors:a},watch:c,handleSubmit:h}=Z(),[w,{isFetching:f,error:x}]=C(),b=async({email:t,password:S})=>{Object.keys(a).length>0||w({email:t,password:S}).then(()=>{x?g(r("error.something_went_wrong"),{variant:"error"}):l("/signin",{replace:!0})}).catch(y=>{console.log(y)})};return i(A,{component:"main",maxWidth:"xs",children:[e(z,{children:e("title",{children:r("signup.title")})}),i(o,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e(U,{sx:{m:1,bgcolor:"transparent"}}),e(F,{component:"h1",variant:"h5",sx:{textTransform:"capitalize"},children:r("signup.title")}),i(o,{component:"form",onSubmit:h(b),noValidate:!0,sx:{mt:1},children:[e(n,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:r("signup.email_address"),autoComplete:"email",autoFocus:!0,...s("email",{required:r("signup.error.email_required").toString(),pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:r("signup.error.invalid_email").toString()}}),helperText:a.email&&String(a.email.message),error:!!a.email}),e(n,{margin:"normal",required:!0,fullWidth:!0,label:r("signup.password"),type:"password",id:"password",autoComplete:"current-password",...s("password",{required:r("signup.error.password_required").toString(),minLength:{value:8,message:r("signup.error.password_min_length").toString()},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/,message:r("signup.error.password_pattern").toString()}}),helperText:a.password&&String(a.password.message),error:!!a.password}),e(n,{margin:"normal",required:!0,fullWidth:!0,label:"Repeat password",type:"password",id:"repeat-password",autoComplete:"new-password",...s("password2",{required:r("signup.error.password_confirm").toString(),validate:t=>t===c("password")||r("signup.error.password_do_not_match").toString()}),helperText:a.password2&&String(a.password2.message),error:!!a.password2}),e(I,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:f?e(W,{}):r("signup.title")})]}),e(o,{sx:{display:"flex",justifyContent:"space-between",width:"100%",margin:"0.5rem"},children:e(j,{href:"/signin",children:r("signup.already_a_member")})}),e(k,{className:"mobile-visible",color:"primary","aria-label":"close",sx:{margin:"3rem",padding:"10px"},onClick:()=>l(d,{replace:!0}),children:e(L,{icon:B})})]})]})};export{E as default};
